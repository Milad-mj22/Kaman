{% extends "home/base.html" %}
{% load static %}

{% block title %}مقالات | کمان{% endblock %}
{% block nav_articles_active %}active{% endblock %}





{% block hero %}
<section class="hero" style="height: 240px; background-image: linear-gradient(135deg, rgba(255,0,200,.15), rgba(122,0,255,.15)), url('{% static "icons/conatact2.png" %}');">
  <div class="hero-content">
    <h1>مقالات</h1>
    <p>مجموعه‌ای از مقالات و مطالب مرتبط با سامانه کمان</p>
  </div>
</section>
{% endblock %}

{% block content %}
<!-- Hero Section for Articles Page -->
<section class="articles-section" style="padding: 40px 20px;">
  <div class="container" style="max-width: 1200px; margin: 0 auto;">
    
    {% for article in articles %}
    <!-- Wrap the article item with a clickable link -->
    <a href="{% url 'article_detail' article.id %}" class="article-item" style="background: #2b004f; padding: 20px; border-radius: 8px; margin-bottom: 20px; display: flex; flex-direction: row-reverse; align-items: center; text-decoration: none; color: inherit;">

      <!-- If article has image -->
      {% if article.image %}
      <div class="article-image" style="flex-shrink: 0; width: 200px; height: 100%; border-radius: 8px 0 0 8px; overflow: hidden; margin-left: 20px;">
        <img src="{{ article.image.url }}" alt="{{ article.title }}" style="width: 100%; height: 100%; object-fit: cover;">
      </div>
      {% endif %}

      <div class="article-content" style="flex-grow: 1; padding-right: 20px;">
        <h2 style="font-size: 24px; color: #ffbdf5;">{{ article.title }}</h2>
        <p style="color: #ddd;">{{ article.summary }}</p>
      </div>
    </a>
    {% empty %}
      <p style="color: #bbb; text-align: center; grid-column: span 3;">مقاله‌ای برای نمایش وجود ندارد</p>
    {% endfor %}
  </div>
</section>
{% endblock %}



{% block extra_css %}

<style>
  /* Media query for mobile responsiveness */
  @media (max-width: 768px) {
    .article-item {
      flex-direction: column;  /* Change the layout to column on mobile */
      align-items: center; /* Center align content */
      padding: 20px; /* Adding padding for mobile */
    }

    .article-image {
      width: 100%;
      height: 200px; /* Fixed height for images on mobile */
      margin-left: 0;
      margin-bottom: 20px; /* Space between image and content */
      border-radius: 8px;
    }

    .article-content {
      padding-right: 0;
      text-align: center; /* Center align the content */
    }
  }

  /* Default desktop layout: image to the left of text */
  .article-item {
    display: flex;
    flex-direction: row-reverse; /* image on the left in desktop */
    align-items: center;
    cursor: pointer; /* Add cursor to indicate clickability */
    transition: transform 0.3s ease-in-out; /* Smooth transition for hover effect */
  }

  /* Hover effect: move card up slightly */
  .article-item:hover {
    transform: translateY(-10px); /* Moves the card up 10px */
  }

  .article-image {
    flex-shrink: 0;
    width: 200px;
    height: 100%;
    border-radius: 8px 0 0 8px;
    overflow: hidden;
    margin-left: 20px;
  }

  .article-content {
    flex-grow: 1;
    padding-right: 20px;
  }
</style>

{% endblock %}